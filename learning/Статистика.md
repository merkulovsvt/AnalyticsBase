# Введение

---

## Генеральная совокупность и выборка

### Генеральная совокупность

* **Генеральная совокупность** — совокупность всех объектов, над которыми производят наблюдение.
    * Пример — совершеннолетние жители города Москва.

### Выборка

* **Выборка** — часть отобранных из генеральной совокупности объектов.
    * Пример — 100 студентов МФТИ.

#### Виды выборок

* **Простая случайная выборка** (simple random sample) — случайным образом выбираем элементы генеральной совокупности.


* **Стратифицированная выборка** (stratified sample) — разделяем объекты по определенным признакам, затем из каждой
  страты отбираются участники пропорционально численности этой страты в популяции.


* **Групповая выборка** (cluster sample) — разделяем объекты на кластеры схожие между собой, выбираем некоторые из них и
  делаем простую случайную выборку из их элементов.

---

## Типы переменных

### Качественные переменные

* **Качественные переменные** (номинативные) — категории или группы, к которым можно отнести отдельные наблюдения.
    * Пример — марка автомобиля или пол человека.

### Ранговые переменные

* **Ранговые переменные** — это переменные, которые могут быть упорядочены, но не имеют фиксированного интервала между
  значениями.
    * Пример — места в марафонском забеге (мы можем сказать, что кто-то прибежал быстрее, но мы не знаем насколько)

### Количественные переменные

* **Количественные переменные** — данные, которые могут быть измерены и у которых есть числовое значение.
    * Пример — возраст человека.

#### Виды количественных переменных

* **Непрерывные** — переменная, которая может принимать любые значения в определенном диапазоне или на интервале.
    * Пример — доход человека.


* **Дискретные** — переменная, которая может принимать только целочисленные значения.
    * Пример — число детей в семье.

---

## Описательные статистики

### Меры центральной тенденции

* **Мера центральной тенденции** — число, служащее для описания множества значений одним-единственным числом.
    * Пример — вместо перечисления величин зарплат всех сотрудников организации говорят о средней зарплате.

#### Мода

* **Мода** (mode) — значение измеряемого признака, которое встречается максимально часто.

#### Медиана

* **Медиана** (median) — значение признака, которое делит упорядоченное множество данных пополам.
    * Обозначение — **med**.

#### Среднее арифметическое

* **Среднее арифметическое** (mean) — сумма всех значений измеренного признака, деленная на их количество.
    * Обозначение — **M** или **x̅**.

##### Свойства среднего

* **M<sub>X+C</sub>** = **M<sub>X</sub>** + C

* **M<sub>X*C</sub>** = **M<sub>X</sub>** * C

* ∑ (**x**<sub>i</sub> - **M<sub>X</sub>**) = 0

---

### Меры изменчивости

* **Мера изменчивости** — показатели, измеряющие вариацию (разброс) значений выборки.

#### Размах

* **Размах** (range) — разность максимального и минимального значения.
    * Обозначение — **R** = **X<sub>max</sub>** - **X<sub>min</sub>**.

#### Дисперсия

* **Дисперсия** (variance) — средний квадрат отклонений индивидуальных значений признака от средней величины.
    * Обозначение — **D** = ∑ (**x<sub>i</sub>** - **x̅**)<sup>2</sup> / **n**, где **n** — число элементов выборки.
        * Если дисперсия берётся от выборки, то в знаменателе **n-1** (см. **Степени свободы**).


* Квадрат необходим для того, чтобы дробь не занулилась (см. **Свойства среднего**).

##### Свойства дисперсии

* **D<sub>X+C</sub>** = **D<sub>X</sub>**

* **D<sub>X*C</sub>** = **D<sub>X</sub>** * C<sup>2</sup>

#### Среднеквадратичное отклонение

* **Среднеквадратичное отклонение** — квадратный корень дисперсии (√**D**.).
    * Для генеральной совокупности — **σ**.
    * Для выборки (стандартное отклонение) — **sd** (standard deviation).

##### Свойства среднеквадратичного отклонения

* **sd<sub>X+C</sub>** = **sd<sub>X</sub>**

* **sd<sub>X*C</sub>** = **sd<sub>X</sub>** * C

---

## Квартили распределения и график Box-plot

### Квартили распределения

* **Квартили распределения** — четверти упорядоченного множества данных.
    * Обозначение — **1-й**, **2-й**, **3-й**, **4-й** квартили.

### График Box-plot

* **Box-plot** (ящик с усами) — [ссылка](https://clck.ru/398X4i).

---

## Нормальное распределение и стандартизация

### Нормальное распределение

* **Нормальное распределение** — непрерывное симметричное распределение вероятностей с пиком в центре и симметричными
  боковыми сторонами.
    * Отклонения от среднего подчиняются определенному закону (**σ** - 34.1% наблюдений, **2σ** - 47.7% наблюдений, ...)

### Стандартизация

* **Стандартизация** (Z-преобразование) — преобразование полученных данных в стандартную **Z-шкалу** (Z-scores) со
  средним **M<sub>Z</sub>** = 0 и **D<sub>Z</sub>** = 1.
    * **M<sub>Z</sub>** = 0 (см. **Свойства среднего**) и **D<sub>Z</sub>** = 1 (см. **Свойства дисперсии**)
    * Формула — **z<sub>i</sub>** = (**x<sub>i</sub>** - **x̅**) / **σ<sub>x</sub>**.
    * [Таблица Z-значений](https://web.archive.org/web/20180729102938/http://users.stat.ufl.edu/~athienit/Tables/Ztable.pdf).

---

## Центральная предельная теорема

* **Центральная предельная теорема** — распределение выборочных средних значений приблизительно нормально, если размер
  выборки достаточно велик.

**Пояснение**:

1. Предположим исследуемый нами признак имеет нормальное распределение в генеральной совокупности с
   некоторым средним значением **M** и среднеквадратичным отклонением **σ**.

2. Мы многократно извлекаем выборки, равные **n** по объёму и в каждой из них высчитываем среднее значение и строим
   распределение этих выборочных средних.

3. Оно будет нормальным со средним значением равным **M** и стандартным отклонением равным <u>стандартной ошибке
   среднего</u> **se** = **σ** / √**n** (standard error).
    * Если **n** > 30, то достаточно извлечь всего лишь одну выборку и **se** = **sd<sub>x</sub>** / √**n**

---

## Доверительный интервал для среднего

* **Доверительный интервал для среднего** — это интервал выборки, который с заданной вероятностью (95% — **M** ±
  1.96**σ**, 99% — **M** ± 2.58**σ**, ...) включает среднее значение генеральной совокупности.
    * Пример — выборка с **x̅** = 100, **sd<sub>x</sub>** = 4, **n** = 64 => **se** = 0.5 => 95% — [91.02; 100.98]

---

## Идея статистического вывода, p-уровень значимости

### Идея статистического вывода

* **Идея статистического вывода** — принять (отвергнуть) гипотезы на основе данных (не оценивать неизвестный параметр
  генеральной совокупности).

### Пример с p-уровнем значимости

1. Пусть на выздоровление при некотором заболевании требуется в среднем **M** = 20 дней. Мы разработали новый препарат и
   хотим проверить, можно ли сократить этот срок.

2. Мы набрали выборку из **n** = 64 пациентов и опробовали на них новый способ лечения. Оказалось, что средний срок
   выздоровления сократился до **x̅** = 18.5 при стандартном отклонении **sd** = 4.

3. В нашем эксперименте между собой будут конкурировать 2 гипотезы.
    * **Гипотеза 0** — **M<sub>П</sub>** == 20.
    * **Гипотеза 1** — **M<sub>П</sub>** != 20.

4. Пусть верна **Гипотеза 0** => в соответствии с **ЦПТ** — **se** = 4 / 8 = 0.5.

5. Выполняем стандартизацию — (18.5 - 20) / 0.5 = -3.  
   **p-значение** = 2 * P(x<-3) = P(x<-3 or x>3)

6. Если **p** > 0.05 (конкретное число зависит от ситуации), то подходит **Гипотеза 0**, иначе у нас недостаточно
   оснований её отклонить **Гипотеза 1**.

* Если верна **Гипотеза 0**, то вероятность получить такие или ещё выраженные различия равна **p-уровню значимости**.

* Чем меньше **p-уровень значимости**, тем больше оснований отклонить **Гипотезу 0**.

* **p-уровень значимости** ничего не говорит про:
    * то, с какой вероятностью верна **Гипотеза 0**,
    * правильность результат,
    * величину различия.

### Ошибки статистического вывода

* **Ошибка 1 рода** — отклонили **Гипотезу 0**, хотя она была верна.


* **Ошибка 2 рода** — приняли **Гипотезу 0**, хотя она была неверна.

---

# Сравнение средних

---

## T-распределение

* **[T-распределение](https://clck.ru/399PZL)** (распределение Стьюдента) — используется, когда число наблюдений **n**
  невелико и **σ** неизвестно (почти всегда).
    * Число степеней свободы — **df** = **n** - 1. С увеличением числа **df** распределение стремится к нормальному.

* **Степень свободы** — 